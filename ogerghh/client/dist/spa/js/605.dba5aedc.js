(self["webpackChunkghh_navi"]=self["webpackChunkghh_navi"]||[]).push([[605],{6605:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>k});var t=a(3673);const s={class:"q-pa-md q-gutter-sm"};function r(e,n,a,r,i,l){const c=(0,t.up)("q-tree"),d=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)("div",s,[(0,t.Wm)(c,{nodes:r.nodes,"default-expand-all":"","node-key":"key","label-key":"name",onLazyLoad:r.onLazyLoad},null,8,["nodes","onLazyLoad"])])])),_:1})}a(71);var i=a(1959),l=a(1525),c=a(5474),d=a(6584),o=a(9582);const u=[{name:"Gemeinden",key:"R1",lazy:!0,rec:{},nextLevel:"gemeinden"}],v={setup(){const e=(0,o.tv)();return{nodes:(0,i.iH)(u),async onLazyLoad({node:n,key:a,done:t,fail:s}){let r={},i="";switch(n.nextLevel){case"gemeinden":r={},i="gemeinde_berichte";break;case"gemeinde_berichte":r={gkz:n.rec.gkz},i="vrv_bestandteile";break;case"vrv_bestandteile":r={vrv:n.rec.vrv},i="bestandteil_details";break;case"bestandteil_details":switch(n.rec.bestandteil){case"ergebnishaushalt":case"finanzierungshaushalt":case"vermoegenshaushalt":return e.push({name:"ghhDetails",params:Object.assign({},n.rec)}),void s();default:return l.Z.create({title:"Fehler",message:`Details f√ºr unbekannten Bestanteil '${n.rec.bestandteil}' angefordert, oder Bestandteil noch nicht implementiert.`,ok:!0}),void s()}default:return l.Z.create({title:"Fehler",message:`Unbekannte Folgeebene: ${n.nextLevel}`,ok:!0}),void s()}const o=[];let u;try{const e=`api/navi/${n.nextLevel}`;u=await c.api.post(e,r)}catch(v){return(0,d.s3)(v),void s()}for(const e of u.data.rows){e[n.nextLevel+"_name"]=e.name;const a={name:e.name,key:`${n.key}_${e.iid}`,lazy:!0,rec:Object.assign({},n.rec,e),nextLevel:i};o.push(a)}t(o)}}}};var h=a(4379),m=a(5551),g=a(7518),b=a.n(g);v.render=r;const k=v;b()(v,"components",{QPage:h.Z,QTree:m.Z})}}]);